# シフト管理システム 開発要件定義書

## 1. システム開発の背景と目的

### 1.1 背景

従来の「カレンダーに名前を書き込む」方式には以下の課題がある。

- 管理者の集計・調整作業に時間がかかる
- スタッフの希望が他のスタッフに知られてしまう（プライバシー問題）
- 紙やExcelでの管理による情報の分散・更新の遅れ

### 1.2 目的

**リクエスト回答型**のシフト集約システムを構築し、以下を実現する。

- 管理者の集計作業の効率化
- スタッフのプライバシー保護（回答内容の非公開）
- スタッフの利便性向上（いつでも・どこでも回答可能）

---

## 2. 実装すべき主要機能

### 2.1 シフト募集（タスク作成）機能

| 項目 | 内容 |
|------|------|
| 募集枠の作成 | 管理者が「いつ、どの時間帯に、何名のスタッフが必要か」という募集枠を作成 |
| 動的フォーム生成 | 特定の日時を指定した募集フォームを動的に生成 |
| 一斉通知 | スタッフ全員、あるいは特定のグループに対して一斉に募集通知を送る仕組み |

**募集枠のデータ構造（例）**

- 募集ID
- 日付
- 開始時刻・終了時刻
- 必要人数
- ポジション（任意）
- 対象グループ（全員 or 特定グループ）
- 募集ステータス（募集中 / 締切 / 確定）

### 2.2 データ集約・管理機能

| 項目 | 内容 |
|------|------|
| 回答の自動集約 | 各スタッフが個人的に入力した回答データが、管理者のもとへ自動的に集約 |
| プライバシー保護 | スタッフ間の回答内容は互いに見えず、管理者のみが一覧として確認可能 |
| 即時反映 | 回答データはデータベースに即時反映され、管理者がシフトの確定・調整をスムーズに行える |

**回答のデータ構造（例）**

- 回答ID
- 募集ID
- スタッフID
- 可否（○ / △ / ×）
- コメント（任意）
- 回答日時

---

## 3. システムの全体フロー

```
┌─────────────────────────────────────────────────────────────────┐
│ 1. 募集開始                                                      │
│    管理者がシステム上で募集日程・必要人数・対象を設定              │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│ 2. 回答入力                                                      │
│    スタッフは専用のリンクまたは画面から、提示された日程に対して     │
│    「○・△・×」等の可否を入力                                     │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│ 3. 自動集約                                                      │
│    入力完了後、管理者の管理画面に全スタッフの回答が自動的に一覧化  │
└────────────────────────────┬────────────────────────────────────┘
                             │
                             ▼
┌─────────────────────────────────────────────────────────────────┐
│ 4. シフト確定                                                    │
│    管理者が集約結果を確認し、シフトの確定・調整を行う              │
└─────────────────────────────────────────────────────────────────┘
```

---

## 4. ユーザー役割

| 役割 | 権限 |
|------|------|
| **管理者** | 募集作成・編集・削除、回答一覧の閲覧、シフト確定 |
| **スタッフ** | 自分宛の募集に対する回答入力のみ（他スタッフの回答は閲覧不可） |

---

## 5. 非機能要件（参考）

- レスポンシブ対応（スマートフォンからの回答を想定）
- データの永続化（サーバー再起動後も保持）
- シンプルな認証（管理者・スタッフのログイン）

---

## 6. 用語定義

| 用語 | 定義 |
|------|------|
| 募集 | 管理者が作成する「いつ・何名必要か」の枠 |
| 募集枠 | 1つの日時・時間帯に対する募集単位 |
| ○ / △ / × | スタッフの可否回答（○=可能、△=要相談、×=不可） |
